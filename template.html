<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Main</title>
        <script src="elm.js"></script>
    </head>

    <body>
        <div id="elm"></div>
        <script>
         const electron = require('electron');
         const ipc = electron.ipcRenderer;
         var app = Elm.Main.init({
             node: document.getElementById('elm')
         });
         app.ports.writeOut.subscribe(function(file) {
             ipc.send('write-out', file);
         });
         app.ports.loadFile.subscribe(function(filename) {
             ipc.send('load-file', filename);
         });

         ipc.on('file-loaded', function(event, data) {
             app.ports.fileLoaded.send(data);
         });
        </script>
    </body>
</html>
